{"ast":null,"code":"import { ErrorHandling } from '../../localserv/errorHandling';\nimport { ServConfig } from '../../servconfig';\nimport { HttpHeaders } from '@angular/common/http';\nimport { catchError, tap } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"../../globalserv/alertify.service\";\nexport let LangTranslationService = /*#__PURE__*/(() => {\n  class LangTranslationService extends ErrorHandling {\n    constructor(http, alertifyService) {\n      super();\n      this.http = http;\n      this.alertifyService = alertifyService;\n      this.path = ServConfig.ApiPath + '/languages';\n      this.httpOptions = {\n        headers: new HttpHeaders({\n          'Content-Type': 'application/json' // 'Authorization':'Token'\n\n        })\n      };\n    }\n\n    getLanguages() {\n      return this.http.get(this.path, this.httpOptions).pipe(tap(data => {\n        return this.tapIntercepter(data);\n      }), catchError(this.handleError));\n    }\n\n    getData() {\n      this.getLanguages().subscribe(data => {\n        this._langWeb = data;\n      });\n    }\n\n    translate(langType, langKey, defaultVal) {\n      var _a;\n\n      let retVal = '';\n      if (this._langWeb == undefined || this._langWeb.length == 0) this.getData();\n      let selectedLangWeb = (_a = this._langWeb) === null || _a === void 0 ? void 0 : _a.filter(lang => lang.lang_type.toLocaleLowerCase().indexOf(langType) !== -1)[0];\n      let selectedWords = selectedLangWeb === null || selectedLangWeb === void 0 ? void 0 : selectedLangWeb.words;\n      let findWord = selectedWords === null || selectedWords === void 0 ? void 0 : selectedWords.filter(w => w.txt_name.toLocaleLowerCase().indexOf(langKey.toLocaleLowerCase()) !== -1)[0];\n      if (findWord != undefined && findWord != null) retVal = findWord.txt_lang;\n\n      if (retVal == '') {\n        if (defaultVal) {\n          /**\r\n           * defaultLangVal  degeri  örneğin tr   default dil olsun  servisten dönen deger\r\n           * boş olduğundan  bu degeri içeri yazalım :)\r\n           */\n          let word = {\n            txt_lang: defaultVal,\n            txt_name: langKey\n          };\n          this.addWord(word, 'tr');\n          this.addWord(word, 'es');\n          this.addWord(word, 'en');\n          this.addWord(word, 'ch');\n          retVal = defaultVal;\n        }\n      }\n\n      return retVal;\n    }\n\n    addWord(word, langType) {\n      let wordString = langType + ':' + JSON.stringify(word);\n      this.alertifyService.success(' addedd word  :   ' + wordString);\n    }\n\n  }\n\n  LangTranslationService.ɵfac = function LangTranslationService_Factory(t) {\n    return new (t || LangTranslationService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.AlertifyService));\n  };\n\n  LangTranslationService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: LangTranslationService,\n    factory: LangTranslationService.ɵfac\n  });\n  return LangTranslationService;\n})();","map":null,"metadata":{},"sourceType":"module"}
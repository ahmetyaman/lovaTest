{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\lovaTest\\\\lova-angui-spa\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { ModalDismissReasons } from '@ng-bootstrap/ng-bootstrap';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i2 from \"./alertify.service\";\nexport class ModalDecoratorService {\n  constructor(modalSerice, alertifyService) {\n    this.modalSerice = modalSerice;\n    this.alertifyService = alertifyService;\n  }\n\n  modalOpen(component, modaldata, modalOption) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      if (modalOption == undefined) modalOption = new ModalOption();\n\n      let modalRef = _this.modalSerice.open(component, modalOption);\n\n      modalRef.componentInstance.modalData = modaldata;\n      let retval = new ModalOutputDataModel();\n      modalRef.result.then(result => {\n        _this.alertifyService.success(ModalOperation.OPERATION_BEGIN);\n\n        retval.itemModal = result;\n        retval.operationStatue = OperaitonStatue.RecordSuccess;\n      }, reason => {\n        retval = _this.getDissmisReason(reason);\n      });\n      return retval;\n    })();\n  }\n\n  getDissmisReason(reason) {\n    let retval = new ModalOutputDataModel();\n\n    if (reason === ModalDismissReasons.ESC || reason === ModalDismissReasons.BACKDROP_CLICK || reason === 'dismiss') {\n      this.alertifyService.warning(ModalOperation.GIVE_UP);\n      retval.operationStatue = OperaitonStatue.NothingDo;\n      return retval;\n    } else {\n      retval.operationStatue = OperaitonStatue.Fail;\n      this.alertifyService.warning(ModalOperation.OPERATION_FAIL);\n      return retval;\n    }\n  }\n\n}\n\nModalDecoratorService.ɵfac = function ModalDecoratorService_Factory(t) {\n  return new (t || ModalDecoratorService)(i0.ɵɵinject(i1.NgbModal), i0.ɵɵinject(i2.AlertifyService));\n};\n\nModalDecoratorService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: ModalDecoratorService,\n  factory: ModalDecoratorService.ɵfac\n});\nexport class ModalOption {\n  constructor(_center = true, _size = 'sm', _scrollable = true) {\n    this.centered = _center;\n    this.size = _size;\n    this.scrollable = _scrollable;\n  }\n\n}\nexport class ModalOutputDataModel {}\nexport class ModalInputDataModel {}\nexport var ModalModeEnum;\n\n(function (ModalModeEnum) {\n  ModalModeEnum[ModalModeEnum[\"Record\"] = 1] = \"Record\";\n  ModalModeEnum[ModalModeEnum[\"Edit\"] = 2] = \"Edit\";\n})(ModalModeEnum || (ModalModeEnum = {}));\n\nexport var OperaitonStatue;\n\n(function (OperaitonStatue) {\n  OperaitonStatue[OperaitonStatue[\"NothingDo\"] = 0] = \"NothingDo\";\n  OperaitonStatue[OperaitonStatue[\"RecordSuccess\"] = 1] = \"RecordSuccess\";\n  OperaitonStatue[OperaitonStatue[\"Fail\"] = 2] = \"Fail\";\n})(OperaitonStatue || (OperaitonStatue = {}));\n\nexport const ModalOperation = {\n  GIVE_UP: 'Nothing Do',\n  OPERATION_BEGIN: 'Operation Begin',\n  OPERATION_FAIL: 'Operation Fail'\n};","map":{"version":3,"sources":["C:/lovaTest/lova-angui-spa/src/app/services/globalserv/modal-decorator.service.ts"],"names":["ModalDismissReasons","i0","i1","i2","ModalDecoratorService","constructor","modalSerice","alertifyService","modalOpen","component","modaldata","modalOption","undefined","ModalOption","modalRef","open","componentInstance","modalData","retval","ModalOutputDataModel","result","then","success","ModalOperation","OPERATION_BEGIN","itemModal","operationStatue","OperaitonStatue","RecordSuccess","reason","getDissmisReason","ESC","BACKDROP_CLICK","warning","GIVE_UP","NothingDo","Fail","OPERATION_FAIL","ɵfac","ModalDecoratorService_Factory","t","ɵɵinject","NgbModal","AlertifyService","ɵprov","ɵɵdefineInjectable","token","factory","_center","_size","_scrollable","centered","size","scrollable","ModalInputDataModel","ModalModeEnum"],"mappings":"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","sourcesContent":["import { ModalDismissReasons, } from '@ng-bootstrap/ng-bootstrap';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@ng-bootstrap/ng-bootstrap\";\r\nimport * as i2 from \"./alertify.service\";\r\nexport class ModalDecoratorService {\r\n    constructor(modalSerice, alertifyService) {\r\n        this.modalSerice = modalSerice;\r\n        this.alertifyService = alertifyService;\r\n    }\r\n    async modalOpen(component, modaldata, modalOption) {\r\n        if (modalOption == undefined)\r\n            modalOption = new ModalOption();\r\n        let modalRef = this.modalSerice.open(component, modalOption);\r\n        modalRef.componentInstance.modalData = modaldata;\r\n        let retval = new ModalOutputDataModel();\r\n        modalRef.result.then((result) => {\r\n            this.alertifyService.success(ModalOperation.OPERATION_BEGIN);\r\n            retval.itemModal = result;\r\n            retval.operationStatue = OperaitonStatue.RecordSuccess;\r\n        }, (reason) => {\r\n            retval = this.getDissmisReason(reason);\r\n        });\r\n        return retval;\r\n    }\r\n    getDissmisReason(reason) {\r\n        let retval = new ModalOutputDataModel();\r\n        if (reason === ModalDismissReasons.ESC ||\r\n            reason === ModalDismissReasons.BACKDROP_CLICK ||\r\n            reason === 'dismiss') {\r\n            this.alertifyService.warning(ModalOperation.GIVE_UP);\r\n            retval.operationStatue = OperaitonStatue.NothingDo;\r\n            return retval;\r\n        }\r\n        else {\r\n            retval.operationStatue = OperaitonStatue.Fail;\r\n            this.alertifyService.warning(ModalOperation.OPERATION_FAIL);\r\n            return retval;\r\n        }\r\n    }\r\n}\r\nModalDecoratorService.ɵfac = function ModalDecoratorService_Factory(t) { return new (t || ModalDecoratorService)(i0.ɵɵinject(i1.NgbModal), i0.ɵɵinject(i2.AlertifyService)); };\r\nModalDecoratorService.ɵprov = /*@__PURE__*/ i0.ɵɵdefineInjectable({ token: ModalDecoratorService, factory: ModalDecoratorService.ɵfac });\r\nexport class ModalOption {\r\n    constructor(_center = true, _size = 'sm', _scrollable = true) {\r\n        this.centered = _center;\r\n        this.size = _size;\r\n        this.scrollable = _scrollable;\r\n    }\r\n}\r\nexport class ModalOutputDataModel {\r\n}\r\nexport class ModalInputDataModel {\r\n}\r\nexport var ModalModeEnum;\r\n(function (ModalModeEnum) {\r\n    ModalModeEnum[ModalModeEnum[\"Record\"] = 1] = \"Record\";\r\n    ModalModeEnum[ModalModeEnum[\"Edit\"] = 2] = \"Edit\";\r\n})(ModalModeEnum || (ModalModeEnum = {}));\r\nexport var OperaitonStatue;\r\n(function (OperaitonStatue) {\r\n    OperaitonStatue[OperaitonStatue[\"NothingDo\"] = 0] = \"NothingDo\";\r\n    OperaitonStatue[OperaitonStatue[\"RecordSuccess\"] = 1] = \"RecordSuccess\";\r\n    OperaitonStatue[OperaitonStatue[\"Fail\"] = 2] = \"Fail\";\r\n})(OperaitonStatue || (OperaitonStatue = {}));\r\nexport const ModalOperation = {\r\n    GIVE_UP: 'Nothing Do',\r\n    OPERATION_BEGIN: 'Operation Begin',\r\n    OPERATION_FAIL: 'Operation Fail',\r\n};\r\n"]},"metadata":{},"sourceType":"module"}